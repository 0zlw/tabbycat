{% extends "base.html" %}
{% load debate_tags %}

{% block head-title %}❔ Confirm {{ preset_title }} Presets{% endblock %}
{% block page-title %}❔ Confirm {{ preset_title }} Presets{% endblock %}

{% block page-subnav-sections %}

{% endblock %}

{% block content %}

  <ul class="list-group">
    {% for preference in preset_preferences %}
      <li class="list-group-item">
        <h4 class="{{ preference.changed|yesno:"text-success,text-muted" }}">
          {{ preference.name }}
        </h4>
        <h4 class="list-group-item-heading">
          {% if preference.changed %}
            <span class="label label-danger">{{ preference.current_value }}</span>
            <span class="label label-default"><span class="glyphicon glyphicon-chevron-right"></span></span>
            <span class="label label-success">{{ preference.new_value }}</span>
          {% else %}
            <span class="label label-primary">{{ preference.new_value }}</span>
            <span class="label label-default">no change</span></span>
          {% endif %}
        </h4>
        <br>
        <p>{{ preference.help_text }}</p>
      </li>
    {% endfor %}
  </ul>

  <button id="applyPresets" class="btn btn-success btn-block submit-disable" data-loading-text="Saving...">Apply Presets</button>

  <form id="applyPresetsForm" method="POST">
    {% csrf_token %}
  </form>

{% endblock content %}

{% block js %}
  {{ block.super }}
  <script>
    $(document).ready( function() {
      $("#applyPresets").click( function() {
        $("#applyPresetsForm").submit();
        return false;
      } );
    } );
  </script>
{% endblock js %}
