{% extends "base.html" %}
{% load debate_tags %}

{% block head-title %}❔ Confirm {{ preset_title }} Presets{% endblock %}
{% block page-title %}❔ Confirm {{ preset_title }} Presets{% endblock %}

{% block page-subnav-sections %}

{% endblock %}

{% block content %}

  <ul class="list-group">
    <li class="list-group-item">
      <span class="badge">{{ changed_preferences.length }}</span>
      <h4>Changed Preferences</h4>
    </li>
    {% for preference in changed_preferences %}
      <li class="list-group-item">
        <h4>
          {{ preference.name }} <small>{{ preference.help_text }}</small>
        </h4>
        <h4 class="list-group-item-heading">
          <span class="label label-danger">{{ preference.current_value }}</span>
          <span class="label label-default"><span class="glyphicon glyphicon-chevron-right"></span></span>
          <span class="label label-success">{{ preference.new_value }}</span>
        </h4>
      </li>
    {% endfor %}
  </ul>

  <ul class="list-group">
    <li class="list-group-item">
      <span class="badge">{{ unchanged_preferences.length }}</span>
      <h4>Unchanged Preferences</h4>
    </li>
    {% for preference in unchanged_preferences %}
      <li class="list-group-item">
        <span class="badge">{{ preference.new_value }}</span>
        <span data-toggle="tooltip" title="{{ preference.help_text }}">
          {{ preference.name }}
        </span>
      </li>
    {% endfor %}
  </ul>

  <button id="applyPresets" class="btn btn-success btn-block submit-disable" data-loading-text="Saving...">Apply Presets</button>

  <form id="applyPresetsForm" method="POST">
    {% csrf_token %}
  </form>

{% endblock content %}

{% block js %}
  {{ block.super }}
  <script>
    $(document).ready( function() {
      $("#applyPresets").click( function() {
        $("#applyPresetsForm").submit();
        return false;
      } );
    } );
  </script>
{% endblock js %}
