{% load debate_tags i18n %}

{% if r.is_break_round and forloop.last %}
{% else %}
  <div class="progress-line standard-line"></div>
{% endif %}

<a href="#rh{{ r.id }}" data-toggle="collapse" data-parent="#sidebar"
   class="list-group-item d-inline-block {% if r == current_round %}{% elif round == r %}active{% endif %}" aria-expanded="false">

  <i data-feather="circle" class="circle-icon
    {% if r == current_round %}circle-current
    {% elif r.seq > current_round.seq %}circle-later
    {% elif r.seq < current_round.seq %}circle-done{% endif %}"></i>
  <span class="d-none d-md-inline">{{ r.abbreviation }}</span>
  <span class="d-md-none">{{ r.abbreviation|slice:":2" }}</span>

  <i data-feather="chevron-down" class="sidebar-expand d-none d-md-inline"></i>
  <i data-feather="chevron-up" class="sidebar-expand d-none d-md-inline"></i>
</a>

<div class="collapse {% if r == round and round_nav %}show{% endif %}" id="rh{{ r.id }}">

  <a href="{% roundurl 'availability-index' r %}"
     class="list-group-item {% if availability_nav and round == r %}active{% endif %}"
     data-parent="#rh{{ r.id }}">
    <i data-feather="circle" class="circle-icon
      {% if r.seq < current_round.seq %} circle-done
      {% elif r == current_round and r.draw_status == r.STATUS_NONE %} circle-current
      {% elif r.draw_status == r.STATUS_DRAFT %} circle-done
      {% elif r.draw_status == r.STATUS_CONFIRMED %} circle-done
      {% elif r.draw_status == r.STATUS_RELEASED %} circle-done
      {% else %} circle-later{% endif %}"></i>
    {% trans "Check-Ins" %}
  </a>

  <a href="{% roundurl 'draw' r %}"
     class="list-group-item {% if draw_nav and round == r %}active{% endif %}"
     data-parent="#rh{{ r.id }}">
    <i data-feather="circle" class="circle-icon
      {% if r.seq < current_round.seq %} circle-done
      {% elif r.draw_status == r.STATUS_NONE %} circle-later
      {% elif r.draw_status == r.STATUS_CONFIRMED %} circle-done
      {% elif r.draw_status == r.STATUS_RELEASED %} circle-done
      {% else %} circle-current{% endif %}"></i>
    {% trans "Draw" %}
  </a>

  <a href="{% roundurl 'draw-display' r %}"
    class="list-group-item {% if display_nav and round == r %}active{% endif %}"
    data-parent="#rh{{ r.id }}">
    <i data-feather="circle" class="circle-icon
      {% if r.seq < current_round.seq %} circle-done
      {% elif r.draw_status == r.STATUS_NONE %} circle-later
      {% elif r.draw_status == r.STATUS_DRAFT %} circle-later
      {% elif r.draw_status == r.STATUS_CONFIRMED %} circle-current
      {% elif r.draw_status == r.STATUS_RELEASED %} circle-done
      {% else %} circle-current{% endif %}"></i>
    {% trans "Display" %}
  </a>

  <a href="{% roundurl 'motions-edit' r %}"
    class="list-group-item {% if motions_nav and round == r %}active{% endif %}"
    data-parent="#rh{{ r.id }}">
    <i data-feather="circle" class="circle-icon
      {% if r.motion__count > 0 %} circle-done
      {% elif r.draw_status == r.STATUS_CONFIRMED %} circle-current
      {% elif r.draw_status == r.STATUS_RELEASED %} circle-current
      {% else %} circle-later{% endif %}"></i>
    {% trans "Motions" %}
  </a>

  <a href="{% roundurl 'results-round-list' r %}"
     class="list-group-item {% if results_nav and round == r %}active{% endif %}"
     data-parent="#rh{{ r.id }}">
    <i data-feather="circle" class="circle-icon
      {% if r.seq < current_round.seq %} circle-done
      {% elif r.draw_status == r.STATUS_CONFIRMED %}circle-current
      {% elif r.draw_status == r.STATUS_RELEASED %}circle-current
      {% else %} circle-later{% endif %}"></i>
    {% trans "Results" %}
  </a>

</div>

