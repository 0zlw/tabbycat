{% extends "base.html" %}
{% load static %}
{% load debate_tags %}

{% block footer %}{% endblock %}

{% block head-title %}<span class="emoji">🏪</span> Edit Venues for {{ round.abbreviation }}{% endblock %}
{% block page-title %}🏪Edit Venues for {{ round.abbreviation }}{% endblock %}

{% block page-subnav-sections %}
  <a class="btn btn-default submit-disable" href="{% roundurl 'draw' %}">
    <span class="glyphicon glyphicon-chevron-left"></span> Back to Draw
  </a>
  <form id="autoallocateForm" method="POST" action="{% roundurl 'venues-auto-allocate' %}">
    {% csrf_token %}
    <button class="btn btn-primary submit-disable" type="submit">
      Auto Allocate
    </button>
  </form>
{% endblock %}

{% block content %}

<div id="vueMount">

  <edit-venues-container :debates=debates
                         :unallocated-items=unallocatedItems
                         :venue-constraints=venueConstraints>
  </edit-venues-container>

</div>

{% endblock content %}

{% block js %}

  <script>
    window.vueData = {
      debates: {{ vueDebates|safe }},
      unallocatedItems: {{ vueUnusedVenues|safe }},
      venueConstraints: {{ vueVenueConstraints|safe }}
    }
  </script>
  {{ block.super }}

{% endblock js %}