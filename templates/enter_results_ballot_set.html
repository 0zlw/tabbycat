{% load add_field_css %}
{% load debate_tags %}

{% if form.non_field_errors %}
<div class="row">
    <div class="alert alert-warning">
        <p>{{ form.non_field_errors }}</p>
    </div>
</div>
{% endif %}

<div class="row">
    <p class="col-xs-12 lead h4 page-header">Motion</p>
</div>

<div class="row">
    <div class="col-md-12">
        {{ form.motion|addcss:"form-control" }}
    </div>
</div>

{% for adj in form.adj_iter %}

    <div class="row">
        <p class="col-xs-12 lead h4 page-header">{{ adj.adj }}</p>
    </div>

    <div class="clearfix scoresheet row">
        <div class="col-md-6">
            <div class="form-group">
                <label class="h3 col-xs-offset-1 control-label" >{{ debate.aff_team }}</label>
            </div>
            {% for position in adj.position_iter %}
            <div class="form-group aff speaker s{{ position.pos }}">
                <label class="col-md-2 col-xs-3 control-label" >{{ position }}A</label>
                <div class="col-md-4 col-xs-6 { position.aff_speaker.errors|yesno:'error,' }}">
                    {% if forloop.parentloop.first %}
                        {{ position.aff_speaker|addcss:"form-control" }}
                        {{ position.aff_speaker.errors }}
                    {% else %}
                    <div type="text" id="disabledTextInput" class="btn form-control speaker-name" disabled></div>
                    {% endif %}
                </div>
                <div class="col-md-6 col-xs-2 aff score form-control-parent {{ position.aff_score_errors|yesno:'error,' }}">
                    {{ position.aff_score }}
                    {{ position.aff_score_errors }}
                    {{ position.aff_speaker.errors }}
                </div>
            </div>
            {% endfor %}
            <div class="form-group">
                <label class="col-md-2 col-xs-3 control-label" >Total</label>
                <div class="form-control-parent col-md-offset-4 col-xs-1 col-xs-offset-6">
                    <div name="aff_total" class="btn btn-default aff_total" type="text" readonly />00</div>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="form-group">
                <label class="h3 col-xs-offset-1 control-label" >{{ debate.neg_team }}</label>
            </div>
           {% for position in adj.position_iter %}
                <div class="form-group neg speaker s{{ position.pos }}">
                    <label class="col-md-2 col-xs-3 control-label" >{{ position }}N</label>
                    <div class="col-md-4 col-xs-6 {{ position.aff_speaker.errors|yesno:'error,' }}">
                        {% if forloop.parentloop.first %}
                            {{ position.neg_speaker|addcss:"form-control" }}
                            {{ position.neg_speaker.errors }}
                        {% else %}
                        <div type="text" id="disabledTextInput" class="btn form-control speaker-name" disabled></div>
                        {% endif %}
                    </div>
                    <div class="col-md-6 col-xs-2 neg score form-control-parent {{ position.neg_score_errors|yesno:'error,' }}">
                        {{ position.neg_score }}
                        {{ position.neg_score_errors }}
                        {{ position.neg_speaker.errors }}
                    </div>
                </div>
            {% endfor %}
            <div class="form-group">
                <label class="col-md-2 col-xs-3 control-label" >Total</label>
                <div class="form-control-parent col-md-offset-4 col-xs-1 col-xs-offset-6">
                    <div name="neg_total" class="btn btn-default neg_total" type="text" readonly />00</div>
                </div>
            </div>

        </div>


    </div>

{% endfor %}
