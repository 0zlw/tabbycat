{% extends "base.html" %}

{% block extra-head %}
    <script type="text/javascript" charset="utf-8">

        $(document).ready( function() {
            $("#dataTable").dataTable( {
                "bPaginate": false,
                "aaSorting": [[0, 'desc']]
            } );

        } );

    </script>
{% endblock extra-head %}

{% block extra-style %}
    @import "/static/css/demo_table.css";
{% endblock %}

{% block h1 %} Draw for Round {{ round }} (Debates Confirmed){% endblock %}

{% block content %}

<p>
Enter results.
</p>

<table id="dataTable" class="display" cellpadding="0" cellspacing="0">
    <thead>
        <tr><th>Bracket</th><th>Venue</th><th>Affirmative</th><th>Negative</th><th>Adjudicators</th><th>Results</th></tr>
    </thead>
    <tbody>
    {% for debate in draw %}
    <tr class="
    {% ifequal debate.result_status "N" %}inactive {% endifequal %}
    {% ifequal debate.result_status "C" %}active{% endifequal %}
    ">
        <td>{{ debate.bracket }}</td>
        <td>{{ debate.venue.name }}</td>
        <td class="{% if debate.result.aff_win %}winner{% endif %}">
            {{ debate.aff_team.name }} {{ debate.result.aff_win|yesno:"(win),(loss)," }}
        </td>
        <td class="{% if debate.result.neg_win %}winner{% endif %}">
            {{ debate.neg_team.name }} {{ debate.result.neg_win|yesno:"(win),(loss), " }}</td>
        <td>{{ debate.adjudicators_display }}</td>
        <td>
            <a href="{% url enter_result debate.id %}">
            {% ifequal debate.result_status "N" %}Enter results {% endifequal %}
            {% ifequal debate.result_status "D" %}Unconfirmed{% endifequal %}
            {% ifequal debate.result_status "C" %}Confirmed{% endifequal %}
            </a>
        </td>
    </tr>
    {% endfor %}
</table>

{% endblock content %}


