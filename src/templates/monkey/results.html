{% extends "monkey/base.html" %}

{% load debate_tags %}

{% block extra-head %}
    {{ block.super }}
    <script type="text/javascript" charset="utf-8">

        $(document).ready( function() {
            $("#dataTable").dataTable( {
                "bPaginate": false,
                "aaSorting": [[0, 'desc']]
            } );

        } );

    </script>
{% endblock extra-head %}

{% block extra-style %}
    @import "/static/css/demo_table.css";
{% endblock %}


{% block content %}
<table id="dataTable" class="display" cellpadding="0" cellspacing="0">
    <thead>
        <tr><th>Venue</th><th>Affirmative</th><th>Negative</th><th>Adjudicators</th><th>Results</th></tr>
    </thead>
    <tbody>
    {% for debate in draw %}
    <tr class="
    {% ifequal debate.result_status "N" %}inactive {% endifequal %}
    {% ifequal debate.result_status "C" %}active{% endifequal %}
    ">
        <td>{{ debate.venue.name }}</td>
        <td>
            <a href="#" title="{{ debate.aff_team.speakers|join:', ' }}">{{ debate.aff_team.name }}</a> 
        </td>
        <td>
            <a href="#" title="{{ debate.neg_team.speakers|join:', ' }}">{{ debate.neg_team.name }}</a>
        </td>
        <td>{{ debate.adjudicators_display }}</td>
        <td>
            <a href="{% tournament_url enter_result debate.id %}">
            {% ifequal debate.result_status "N" %}Enter results {% endifequal %}
            {% ifequal debate.result_status "D" %}Unconfirmed{% endifequal %}
            {% ifequal debate.result_status "C" %}Confirmed{% endifequal %}
            </a>
        </td>
    </tr>
    {% endfor %}
</table>

{% endblock %}

